# 1. createTemplate 서비스

## \[1] 서비스 정보

### (1) 서비스명 : createTemplate

### (2) 기능

1. **받아온 상품 정보를 정리하고 가공한다.**
2. **webhook으로 보낼 메시지 템플릿을 만든다.**
3. **최종적으로 전송될 webhook 메시지를 생성한다.**
   * (1)번의 가공된 상품 정보와 (2)번의 템플릿을 결합한다.

## \[2] createTemplate 클래스 정보

### (1) createTemplate 클래스 다이어그램

<figure><img src="../../../.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>

### (2) 메서드 목록

#### 1. procOriginVals 메서드

1. **기능**
   1. 받아온 상품 정보를 정리하고 가공한다.
   2. webhook으로 보낼 메시지 템플릿을 만든다.
   3. 최종적으로 전송될 webhook 메시지를 생성한다. : (1)번의 가공된 상품 정보와 (2)번의 템플릿을 결합한다.
2. **매개변수**
   1.  **stockXData , kreamData**

       1. 자료형 객체 : [prodObj(상품정보 VO)](<../(1) VO 설계 및 설계도 작성/1-vo/1.-vo.md>)
       2. 용도 : stockX의 상품 정보를 맵핑한다.


   2. **templateInfo**
      1. 자료형 객체 : 일반 object
      2. 용도 : 템플릿 생성에 필요한 부가 정보를 담는다.
3. **리턴(출력)**
   1. **msgTemplate**
      1. 자료형 객체 : [msgTemplate(webhook 전송 VO)](<../(1) VO 설계 및 설계도 작성/3-webhook-vo/1.-webhook-vo.md>)
      2. webhook 전송 메시지를 담는다.

#### 2. moneyComma

1. **기능**
   * 숫자만 있는 형태의 가격에 세자리수 단위로 ',' 를 붙여 string 형태로 반환한다.
2. **매개변수**
   * int형의 "가격"
3. **리턴**
   * string형의 세자리수 단위가 ','로 표시된 "가격"

#### 3. roiToString 메서드

1. **기능**
   * 숫자만 있는 형태의 percentage값에 '%' 를 붙여 string 형태로 반환한다.
2. **매개변수**
   * int형의 "percentage값"
3. **리턴**
   * string형의 '%'로 표시된 "percentage값"

### (3) 참조 클래스(클릭시 해당 클래스 정보로 이동)

1. ****[**apiResult**](<../(1) VO 설계 및 설계도 작성/1-vo/3.-api-vo.md>) **:**  api 호출 상태 VO
2. ****[**prodObj**](<../(1) VO 설계 및 설계도 작성/1-vo/1.-vo.md>) : 상품 정보 VO
3. ****[**prcInfo**](<../(1) VO 설계 및 설계도 작성/1-vo/2.-vo.md>) : 상품 상세 정보 VO
4. ****[**msgTemplate**](<../(1) VO 설계 및 설계도 작성/3-webhook-vo/1.-webhook-vo.md>) : webhook 전송 VO
5. ****[**msgInfo**](<../(1) VO 설계 및 설계도 작성/3-webhook-vo/2.-webhook-vo.md>) : webhook 리소스 VO
6. **templateInfo** : 템플릿 생성에 필요한 일반 object
