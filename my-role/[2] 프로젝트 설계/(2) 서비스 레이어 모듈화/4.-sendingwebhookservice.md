# 4. sendingWebhookService

## \[1] 기능

1. **받아온 상품 정보를 정리하고 가공한다.**
2. **webhook으로 보낼 메시지 템플릿을 만든다.**
3. **최종적으로 전송될 webhook 메시지 객체를 생성한다.**

## \[2] 클래스 다이어그램

<figure><img src="../../../.gitbook/assets/image (5).png" alt=""><figcaption></figcaption></figure>

## \[3]  메서드 정보

<details>

<summary>processingMessage</summary>

### 1. 기능

* webhook으로 보낼 메시지 템플릿 생성
* 최종적으로 전송할 webhook 메시지 객체 생성

### 2. 매개변수

#### **stockXData , kreamData**&#x20;

* [prodObj(상품정보 VO)](broken-reference) 객체 형태
* stockX , kream 상품 정보를 맵핑

**msgTemplate**

* 객체 형태 (object)
* 템플릿 생성에 필요한 부가 정보를 가짐

### 3. 출력

**msgTemplate**

* embed 객체 형태
* webhook 전송 메시지 내용을 가짐

</details>

<details>

<summary>sendWebhookMessage</summary>

### 1. 기능

* 숫자만 있는 형태의 가격에 세자리수 단위로 ',' 를 붙여 string 형태로 반환

### 2. 매개변수

* 가격 (int형)

### 3. 출력

* 가격 (세자리수 단위가 ','로 표시된 string형)

</details>
